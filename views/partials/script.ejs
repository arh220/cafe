<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-migrate-3.0.1.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.easing.1.3.js"></script>
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.stellar.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/aos.js"></script>
<script src="/js/jquery.animateNumber.min.js"></script>
<script src="/js/bootstrap-datepicker.js"></script>
<script src="/js/jquery.timepicker.min.js"></script>
<script src="/js/scrollax.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script src="/js/google-map.js"></script>
<script src="/js/main.js"></script>
<!-- DOB-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const today = new Date().toISOString().split('T')[0];
        const dobInput = document.getElementById("dob");
        if (dobInput) {
            dobInput.setAttribute("max", today);
        }
    });
</script>
<!-- Mobile-->
<script>
    const mobileInput = document.getElementById('mobile');

    mobileInput.addEventListener('input', function () {
        // Remove non-digit characters
        this.value = this.value.replace(/\D/g, '');

        // Limit to 10 digits
        if (this.value.length > 10) {
            this.value = this.value.slice(0, 10);
        }
    });
</script>
<!-- Highlight current page in navbar-->
<script>
    // Highlight current page in navbar
    document.addEventListener("DOMContentLoaded", function () {
        const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
        const currentPath = window.location.pathname;

        navLinks.forEach(link => {
            const linkPath = link.getAttribute('href');

            if (linkPath === currentPath) {
                // Remove 'active' from all items first
                document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));

                // Add 'active' to the parent li
                link.closest('.nav-item').classList.add('active');
            }
        });
    });
</script>
<!-- cart page -->


<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartBody = document.getElementById("checkoutCartBody");
        const cartFooter = document.getElementById("checkoutCartFooter");

        if (cart.length === 0) {
            cartBody.innerHTML = `<tr><td colspan="5" class="text-center text-muted">Your cart is empty.</td></tr>`;
            cartFooter.innerHTML = "";
            return;
        }

        let subtotal = 0;
        const delivery = 5;

        cartBody.innerHTML = cart.map(item => {
            const total = item.qty * item.mrp;
            subtotal += total;
            return `
                <tr class="border-bottom border-secondary align-middle">
                    <td class="ps-2 text-start">
                        <img src="${item.image}" alt="${item.itemname}" class="img-fluid rounded" style="width: 30px; height: 30px; object-fit: cover;">
                    </td>
                    <td class="ps-2 text-start">${item.itemname}</td>
                    <td class="text-center">${item.qty}</td>
                    <td class="text-end pe-2">₹${item.mrp}</td>
                    <td class="text-end pe-2">₹${total}</td>
                </tr>
            `;
        }).join("");

        cartFooter.innerHTML = `
            <tr class="border-bottom border-secondary">
                <td colspan="3"></td>
                <td class="text-end pe-2"><strong>Subtotal:</strong></td>
                <td class="text-end pe-2">₹${subtotal.toFixed(2)}</td>
            </tr>
            <tr class="border-bottom border-secondary">
                <td colspan="3"></td>
                <td class="text-end pe-2"><strong>Shipping:</strong></td>
                <td class="text-end pe-2">₹${delivery.toFixed(2)}</td>
            </tr>
            <tr class="border-bottom border-secondary">
                <td colspan="3"></td>
                <td class="text-end pe-2"><strong>Total:</strong></td>
                <td class="text-end pe-2">₹${(subtotal + delivery).toFixed(2)}</td>
            </tr>
        `;
    });
</script>